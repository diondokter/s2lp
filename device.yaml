buffers:
  fifo:
    description: The TX and RX fifo. Writing writes to TX, reading reads from RX.
    id: 0xFF
    rw_type: rw

commands:
  TX:
    id: 0x60
    description: |
      Send the S2-LP to TX state for transmission.
      Valid from `READY` and `SYNTH_SETUP`.
  RX:
    id: 0x61
    description: |
      Send the S2-LP to RX state for reception.
      Valid from `READY` and `SYNTH_SETUP`.
  READY:
    id: 0x62
    description: |
      Go to READY state.
      Valid from `STANDBY`, `SLEEP` and `LOCK`.
  STANDBY:
    id: 0x63
    description: |
      Go to STANDBY state.
      Valid from `READY` and `SYNTH_SETUP`.
  SLEEP:
    id: 0x64
    description: |
      Go to SLEEP state.
      Valid from `READY`, `SYNTH_SETUP` and `WAIT_SLEEP`.
  LOCK_RX:
    id: 0x65
    description: |
      Go to LOCK state by using the RX configuration of the synthesizer.
      Valid from `READY` and `SYNTH_SETUP`.
  LOCK_TX:
    id: 0x66
    description: |
      Go to LOCK state by using the TX configuration of the synthesizer.
      Valid from `READY` and `SYNTH_SETUP`.
  ABORT:
    id: 0x67
    description: |
      Exit from TX or RX states and go to READY state.
      Valid from `TX` and `RX`.
  LDC_RELOAD:
    id: 0x68
    description: |
      Reload the LDC timer with a pre-programmed value stored in registers.
      Valid from `ANY`.
  RESET:
    id: 0x70
    description: |
      Reset the S2-LP state machine and registers values.
      Valid from `ANY`.
  FLUSH_RX_FIFO:
    id: 0x71
    description: |
      Clean the RX FIFO.
      Valid from `ALL`.
  FLUSH_TX_FIFO:
    id: 0x72
    description: |
      Clean the TX FIFO.
      Valid from `ALL`.
  SEQUENCE_UPDATE:
    id: 0x73
    description: |
      Reload the packet sequence counter with the value stored in register.
      Valid from `ANY`.

register_address_type: u8
registers:
  GPIO0_CONF:
    rw_type: rw
    address: 0x00
    size_bits: 8
    reset_value: 0x0A
    fields:
      GPIO_MODE:
        type: u8
        strict_conversion:
          HiZ: 0b00
          Input: 0b01
          OutputLowPower: 0b10
          OutputHighPower: default # 0b11
        start: 0
        end: 2
      GPIO_SELECT_OUTPUT:
        type: u8
        strict_conversion:
          Irq:
            value: 0
            description: nIRQ (interrupt request, active low)
          POR:
            value: 1
            description: POR inverted (active low)
          WakeUpTimerExpiration:
            value: 2
            description: Wake-up timer expiration. `1` when WUT has expired
          LowBatteryDetection:
            value: 3
            description: Low battery detection. `1` when battery is below threshold setting
          TxDataInternalClockOutput:
            value: 4
            description: TX data internal clock output (TX data are sampled on the rising edge of it)
          TxStateCommandInfo:
            value: 5
            description: TX state outputs a command information coming from the RADIO_TX block
          FifoAlmostEmpty:
            value: 6
            description: TX/RX FIFO almost empty flag
          FifoAlmostFull:
            value: 7
            description: TX/RX FIFO almost full flag
          RxDataOutput:
            value: 8
            description: RX data output
          RxClockOutput:
            value: 9
            description: RX clock output (recovered from received data)
          RxState:
            value: 10
            description: RX state indication. `1` when the S2-LP is transiting in the RX state
          DeviceNotSleepOrStandby:
            value: 11
            description: Device in a state other than SLEEP or STANDBY. `0` when in SLEEP/STANDBY
          DeviceStandby:
            value: 12
            description: Device in STANDBY state
          AntennaSwitch:
            value: 13
            description: Antenna switch signal used for antenna diversity
          ValidPreableDetected:
            value: 14
            description: Valid preamble detected flag
          SyncWordDetected:
            value: 15
            description: Sync word detected flag
          RssiThreshold:
            value: 16
            description: RSSI above threshold (same indication of CS register)
          Reserved:
            value: default
            description: Reserved value
          TxOrRxMode:
            value: 18
            description: TX or RX mode indicator (to enable an external range extender)
          VDD:
            value: 19
            description: VDD (to emulate an additional GPIO of the MCU, programmable by SPI)
          GND:
            value: 20
            description: GND (to emulate an additional GPIO of the MCU, programmable by SPI)
          ExternalSmps:
            value: 21
            description: External SMPS enable signal (active high)
          DeviceSleep:
            value: 22
            description: Device in SLEEP state
          DeviceReady:
            value: 23
            description: Device in READY state
          DeviceLock:
            value: 24
            description: Device in LOCK state
          WaitingForLockDetector:
            value: 25
            description: Device waiting for a high level of the lock-detector output signal
          TxDataOok:
            value: 26
            description: TX_DATA_OOK signal (internal control signal generated in the OOK analog smooth mode)
          WaitingForReady2:
            value: 27
            description: Device waiting for a high level of the READY2 signal from XO
          WaitingForPmBlockSettling:
            value: 28
            description: Device waiting for timer expiration to allow PM block settling
          WaitingForEndOfVcoCalibration:
            value: 29
            description: Device waiting for end of VCO calibration
          SynthBlockFullCircuitry:
            value: 30
            description: Device enables the full circuitry of the SYNTH block
        start: 3
        end: 8
      GPIO_SELECT_INPUT:
        type: u8
        strict_conversion:
          TxCommand:
            value: 0
            description: 1 >> TX command
          RxCommand:
            value: 1
            description: 1 >> RX command
          TxDataInput:
            value: 2
            description: TX data input for direct modulation
          Wakeup:
            value: 3
            description: Wake-up from external input (sensor output)
          ExternalClock:
            value: 4
            description: External clock @ 34.7 kHz (used for LDC modes timing)
          NotUsed:
            value: default
            description: Not used
        start: 3
        end: 8
  GPIO1_CONF:
    rw_type: rw
    address: 0x01
    size_bits: 8
    reset_value: 0xA2
    fields:
      GPIO_MODE:
        type: u8
        strict_conversion: GpioMode
        start: 0
        end: 2
      GPIO_SELECT_OUTPUT:
        type: u8
        strict_conversion: GpioSelectOutput
        start: 3
        end: 8
      GPIO_SELECT_INPUT:
        type: u8
        strict_conversion: GpioSelectInput
        start: 3
        end: 8
  GPIO2_CONF:
    rw_type: rw
    address: 0x02
    size_bits: 8
    reset_value: 0xA2
    fields:
      GPIO_MODE:
        type: u8
        strict_conversion: GpioMode
        start: 0
        end: 2
      GPIO_SELECT_OUTPUT:
        type: u8
        strict_conversion: GpioSelectOutput
        start: 3
        end: 8
      GPIO_SELECT_INPUT:
        type: u8
        strict_conversion: GpioSelectInput
        start: 3
        end: 8
  GPIO3_CONF:
    rw_type: rw
    address: 0x03
    size_bits: 8
    reset_value: 0xA2
    fields:
      GPIO_MODE:
        type: u8
        strict_conversion: GpioMode
        start: 0
        end: 2
      GPIO_SELECT_OUTPUT:
        type: u8
        strict_conversion: GpioSelectOutput
        start: 3
        end: 8
      GPIO_SELECT_INPUT:
        type: u8
        strict_conversion: GpioSelectInput
        start: 3
        end: 8
  SYNT3:
    rw_type: rw
    address: 0x05
    size_bits: 8
    reset_value: 0x42
    fields:
      PLL_CP_ISEL:
        type: u8
        start: 5
        end: 8
        description: Set the charge pump current according to the XTAL frequency (see Table 37. Table 34).
      BS:
        type: bool
        start: 4
        description: |
          Synthesizer band select. This parameter selects the out-of loop
          divide factor of the synthesizer:
          - false: 4, band select factor for high band
          - true: 8, band select factor for middle band
          (see Section 5.3.1 RF channel frequency settings).
      SYNT:
        type: u8
        start: 0
        end: 4
        description: MSB [27:24] bits of the PLL programmable divider (see Section 5.3.1 RF channel frequency settings).
  SYNT2:
    rw_type: rw
    address: 0x06
    size_bits: 8
    reset_value: 0x16
    description: The [23:16] bits of the PLL programmable divider (see Section 5.3.1 RF channel frequency settings).
    fields:
      SYNT:
        type: u8
        start: 0
        end: 8
        description: The [23:16] bits of the PLL programmable divider (see Section 5.3.1 RF channel frequency settings).
  SYNT1:
    rw_type: rw
    address: 0x07
    size_bits: 8
    reset_value: 0x27
    description: The [15:8] bits of the PLL programmable divider (see Section 5.3.1 RF channel frequency settings).
    fields:
      SYNT:
        type: u8
        start: 0
        end: 8
        description: The [15:8] bits of the PLL programmable divider (see Section 5.3.1 RF channel frequency settings).
  SYNT0:
    rw_type: rw
    address: 0x08
    size_bits: 8
    reset_value: 0x62
    description: LSB [7:0] bits of the PLL programmable divider (see Section 5.3.1 RF channel frequency settings).
    fields:
      SYNT:
        type: u8
        start: 0
        end: 8
        description: LSB [7:0] bits of the PLL programmable divider (see Section 5.3.1 RF channel frequency settings).
  IF_OFFSET_ANA:
    rw_type: rw
    address: 0x09
    size_bits: 8
    reset_value: 0x2A
    description: "Intermediate frequency setting for the analog RF synthesizer, default: 300 kHz, see Eq. (15)."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  IF_OFFSET_DIG:
    rw_type: rw
    address: 0x0A
    size_bits: 8
    reset_value: 0xB8
    description: "Intermediate frequency setting for the digital shift-to-baseband circuits, default: 300 kHz, see Eq. (15)."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  ChSpace:
    rw_type: rw
    address: 0x0C
    size_bits: 8
    reset_value: 0x3F
    description: "Channel spacing setting, see Eq. (16)."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  ChNum:
    rw_type: rw
    address: 0x0D
    size_bits: 8
    reset_value: 0x00
    description:
      "Channel number. This value is multiplied by the channel spacing
      and added to the synthesizer base frequency to generate the
      actual RF carrier frequency, see Eq. (16)."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  MOD4:
    rw_type: rw
    address: 0x0E
    size_bits: 8
    reset_value: 0x83
    description: "The MSB of the mantissa value of the data rate equation, see Eq. (14)."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  MOD3:
    rw_type: rw
    address: 0x0F
    size_bits: 8
    reset_value: 0x2B
    description: "The LSB of the mantissa value of the data rate equation, see Eq. (14)."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  MOD2:
    rw_type: rw
    address: 0x10
    size_bits: 8
    reset_value: 0x77
    fields:
      ModulationType:
        type: u8
        start: 4
        end: 8
        strict_conversion:
          FSK2:
            value: 0
            description: 2-FSK
          FSK4:
            value: 1
            description: 4-FSK
          GFSK2BT1:
            value: 2
            description: 2-GFSK BT=1
          GFSK4BT1:
            value: 3
            description: 4-GFSK BT=1
          AskOok:
            value: 5
            description: ASK/OOK
          Unmodulated:
            value: 7
            description: Unmodulated
          GFSK2BT0_5:
            value: 10
            description: 2-GFSK BT=0.5
          GFSK4BT0_5:
            value: 11
            description: 4-GFSK BT=0.5
          illegal:
            value: catch-all
            description: Invalid value, do not use
      DATARATE_E:
        type: u8
        start: 0
        end: 4
        description: The exponent value of the data rate equation (see Eq. (14) ).
  MOD1:
    rw_type: rw
    address: 0x11
    size_bits: 8
    reset_value: 0x03
    fields:
      PA_INTERP_EN:
        type: bool
        start: 7
        description: Enable the PA power interpolator (see Section 5.6.1 PA configuration).
      MOD_INTERP_EN:
        type: bool
        start: 6
        description: Enable frequency interpolator for the GFSK shaping (see Section 5.4.1.1 Gaussian shaping).
      CONST_MAP:
        type: u8
        start: 4
        end: 6
        description: "Select the constellation map for 4-(G)FSK or 2-(G)FSK
          modulations (see Table 41. Constellation mapping 2-(G)FSK and
          Table 42. Constellation mapping 4-(G)FSK)."
      FDEV_E:
        type: u8
        start: 0
        end: 4
        description: "The exponent value of the frequency deviation equation (see Eq. (10))."
  MOD0:
    rw_type: rw
    address: 0x12
    size_bits: 8
    reset_value: 0x93
    description: "The mantissa value of the frequency deviation equation (see Eq. (10))."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  ChFlt:
    rw_type: rw
    address: 0x13
    size_bits: 8
    reset_value: 0x23
    description: "Receiver channel filter"
    fields:
      ChFlt_M:
        type: u8
        start: 4
        end: 8
        description: The mantissa value of the receiver channel filter (see Table 44. Channel filter words).
      ChFlt_E:
        type: u8
        start: 0
        end: 4
        description: The exponent value of the receiver channel filter (see Table 44. Channel filter words).
  AFC2:
    rw_type: rw
    address: 0x14
    size_bits: 8
    reset_value: 0xC8
    description: Automatic frequency compensation register 2
    fields:
      AFC_FREEZE_ON_SYNC:
        type: bool
        start: 7
        description: Enable the freeze AFC correction upon sync word detection.
      AFC_ENABLED:
        type: bool
        start: 6
        description: Enable the AFC correction.
      AFC_MODE:
        type: u8
        start: 5
        end: 6
        strict_conversion:
          ClosedOnSlicer: 0
          ClosedOnSecondConversionStage: default
  AFC1:
    rw_type: rw
    address: 0x15
    size_bits: 8
    reset_value: 0x18
    description: Automatic frequency compensation register 1
    fields:
      AFC_FAST_PERIOD:
        type: u8
        start: 0
        end: 8
  AFC0:
    rw_type: rw
    address: 0x16
    size_bits: 8
    reset_value: 0x25
    description: Automatic frequency compensation register 0
    fields:
      AFC_FAST_GAIN:
        type: u8
        start: 4
        end: 8
        description: The AFC loop gain in fast mode (2's log).
      AFC_SLOW_GAIN:
        type: u8
        start: 0
        end: 4
        description: The AFC loop gain in slow mode (2's log).
  RSSI_FLT:
    rw_type: rw
    address: 0x17
    size_bits: 8
    reset_value: 0xE3
    description: RSSI filter
    fields:
      RSSI_FLT:
        type: u8
        start: 4
        end: 8
        description: Gain of the RSSI filter.
      CS_MODE:
        type: u8
        start: 2
        end: 4
        description: Carrier sense mode (see Section 5.5.8.2 Carrier sense)
        strict_conversion:
          StaticCS:
            value: 0b00
            description: Static CS
          DynamicCS6db:
            value: 0b01
            description: Dynamic CS with 6dB dynamic threshold
          DynamicCS12db:
            value: 0b10
            description: Dynamic CS with 12dB dynamic threshold
          DynamicCS18db:
            value: default # 0b11
            description: Dynamic CS with 18dB dynamic threshold
  RSSI_TH:
    rw_type: rw
    address: 0x18
    size_bits: 8
    reset_value: 0x28
    description: "Signal detect threshold in 1 dB steps. The RSSI_TH can be
      converted in dBm using the formula RSSI_TH-146."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  AgcCtrl4:
    rw_type: rw
    address: 0x1A
    size_bits: 8
    reset_value: 0x54
    description: "Automatic gain control 4"
    fields:
      LOW_THRESHOLD_0:
        type: u8
        start: 4
        end: 8
        description: Low threshold 0 for the AGC
      LOW_THRESHOLD_1:
        type: u8
        start: 0
        end: 4
        description: Low threshold 1 for the AGC
  AgcCtrl3:
    rw_type: rw
    address: 0x1B
    size_bits: 8
    reset_value: 0x10
    description: Automatic gain control 3
    fields:
      LOW_THRESHOLD_SEL:
        type: u8
        start: 0
        end: 8
        description:
          Low threshold selection (defined in the AGCCTRL4). Bitmask for
          each attenuation step.
  AgcCtrl2:
    rw_type: rw
    address: 0x1C
    size_bits: 8
    reset_value: 0x22
    description: "Automatic gain control 2"
    fields:
      FREEZE_ON_SYNC:
        type: bool
        start: 5
        description: Enable the AGC algorithm to be frozen on SYNC
      MEAS_TIME:
        type: u8
        start: 0
        end: 4
        description: AGC measurement time
  AgcCtrl1:
    rw_type: rw
    address: 0x1D
    size_bits: 8
    reset_value: 0x59
    description: "Automatic gain control 1"
    fields:
      HIGH_THRESHOLD:
        type: u8
        start: 4
        end: 8
        description: High threshold for the AGC
  AgcCtrl0:
    rw_type: rw
    address: 0x1E
    size_bits: 8
    reset_value: 0x8C
    description: "Automatic gain control 0"
    fields:
      AGC_ENABLE:
        type: bool
        start: 7
        description: Enable the AGC
      HOLD_TIME:
        type: u8
        start: 0
        end: 6
        description: Hold time for after gain adjustment for the AGC.
  ANT_SELECT_CONF:
    rw_type: rw
    address: 0x1F
    size_bits: 8
    reset_value: 0x45
    fields:
      EQU_CTRL:
        type: u8
        start: 5
        end: 7
        description: Hold time for after gain adjustment for the AGC.
        conversion:
          disabled:
            value: 0b00
            description: Equalization disabled
          single_pass:
            value: 0b01
            description: Single pass equalization
          dual_pass:
            value: 0b10
            description: Dual pass equalization
      CS_BLANKING:
        type: bool
        start: 4
        description:
          Do not fill the RX FIFO with data if the CS is threshold (see
          Section 5.5.9 CS blanking).
      AS_ENABLE:
        type: bool
        start: 3
        description: Enable the antenna switching (see Section 5.5.10 Antenna
          switching).
      AS_MEAS_TIME:
        type: u8
        start: 0
        end: 3
        description: Set the measurement time.
  CLOCKREC2:
    rw_type: rw
    address: 0x20
    size_bits: 8
    reset_value: 0xC0
    description: Clock recovery 2
    fields:
      CLK_REC_P_GAIN_SLOW:
        type: u8
        start: 5
        end: 8
        description: Clock recovery slow loop gain (log2).
      CLK_REC_ALGO_SEL:
        type: u8
        start: 4
        end: 5
        description: Symbol timing recovery algorithm selection
        strict_conversion:
          DLL: 0
          PLL: default # 1
      CLK_REC_I_GAIN_SLOW:
        type: u8
        start: 0
        end: 4
        description:
          Set the integral slow gain for symbol timing recovery (PLL mode
          only).
  CLOCKREC1:
    rw_type: rw
    address: 0x21
    size_bits: 8
    reset_value: 0x58
    description: Clock recovery 1
    fields:
      CLK_REC_P_GAIN_FAST:
        type: u8
        start: 5
        end: 8
        description: Clock recovery fast loop gain (log2).
      PstFlt_Len:
        type: u8
        start: 4
        end: 5
        description: Post filter length
        strict_conversion:
          symbols8: 0
          symbols16: default #1
      CLK_REC_I_GAIN_FAST:
        type: u8
        start: 0
        end: 4
        description:
          Set the integral fast gain for symbol timing recovery (PLL mode
          only).
  PcktCtrl6:
    rw_type: rw
    address: 0x2B
    size_bits: 8
    reset_value: 0x80
    description: Packet control 6
    fields:
      SYNC_LEN:
        type: u8
        start: 2
        end: 8
        description: The number of bits used for the SYNC field in the packet.
      PREAMBLE_LEN:
        type: u8
        start: 0
        end: 2
        description:
          The [9:8] MSB of the number of '01 or '10' of the preamble of the
          packet.
  PcktCtrl5:
    rw_type: rw
    address: 0x2C
    size_bits: 8
    reset_value: 0x10
    description: Packet control 5
    fields:
      PREAMBLE_LEN:
        type: u8
        start: 0
        end: 8
        description: The [7:0] LSB of the number of '01 or '10' of the preamble of the packet.
  PcktCtrl4:
    rw_type: rw
    address: 0x2D
    size_bits: 8
    reset_value: 0x00
    description: Packet control 4
    fields:
      LEN_WID:
        type: u8
        start: 7
        end: 8
        description: The number of bytes used for the length field.
        strict_conversion:
          bytes1: 0
          bytes2: default #1
      ADDRESS_LEN:
        type: bool
        start: 3
        description: Include the ADDRESS field in the packet.
  PcktCtrl3:
    rw_type: rw
    address: 0x2E
    size_bits: 8
    reset_value: 0x20
    description: Packet control 3
    fields:
      PCKT_FRMT:
        type: u8
        start: 6
        end: 8
        description: The number of bytes used for the length field.
        strict_conversion:
          basic: 0
          ieee802_15_4g: 1
          uart_ota: 2
          stack: default #3
      RX_MODE:
        type: u8
        start: 4
        end: 6
        conversion:
          normal: 0
          direct_through_fifo: 1
          direct_through_gpio: 2
      FSK4_SYM_SWAP:
        type: bool
        start: 3
        description: Select the symbol mapping for 4(G)FSK.
      BYTE_SWAP:
        type: bool
        start: 2
        description: Select the transmission order between MSB and LSB.
      PREAMBLE_SEL:
        type: u8
        start: 0
        end: 2
        description: Select the preamble pattern.
  PcktCtrl2:
    rw_type: rw
    address: 0x2F
    size_bits: 8
    reset_value: 0x00
    description: Packet control 2
    fields:
      FCS_TYPE_4G:
        type: bool
        start: 5
        description: This is the FCS type in header field of 802.15.4g packet.
      FEC_TYPE_4G_OR_STOP_BIT:
        type: bool
        start: 4
        description: |
          - If the 802.15.4 mode is enabled, this is the FCS type in
          header field of 802.15.4g packet. Select the FEC type of
          802.15.4g packet:
            - 0: NRNSC
            - 1: RSC.
          - If the UART packet is enabled, this is the value of the
          STOP_BIT.
      INT_EN_4G_OR_START_BIT:
        type: bool
        start: 3
        description: |
          - If the 802.15.4 mode is enabled, 1: enable the interleaving
          of 802.15.4g packet.
          - If the UART packet is enabled, this is the value of the
          START_BIT.
      MBUS_3OF6_EN:
        type: bool
        start: 2
        description: Enable the 3-out-of-6 encoding/decoding.
      MANCHESTER_EN:
        type: bool
        start: 1
        description: Enable the Manchester encoding/decoding.
      FIX_VAR_LEN:
        type: u8
        start: 0
        end: 1
        description: Packet length mode.
        strict_conversion:
          fixed: 0
          variable:
            value: default #1
            description: in variable mode the field LEN_WID of PCKTCTRL3 register must be configured
  PcktCtrl1:
    rw_type: rw
    address: 0x30
    size_bits: 8
    reset_value: 0x2C
    description: Packet control 1
    fields:
      CRC_MODE:
        type: u8
        start: 5
        end: 8
        conversion:
          no_crc: 0
          crc_poly_0x07: 1
          crc_poly_0x8005: 2
          crc_poly_0x1021: 3
          crc_poly_0x864CBF: 4
          crc_poly_0x04C011BB7: 5
      WHIT_EN:
        type: bool
        start: 4
        description: Enable the whitening mode.
      TxSource:
        type: u8
        start: 2
        end: 4
        strict_conversion:
          normal: 0
          direct_through_fifo: 1
          direct_through_gpio: 2
          pn9: default #3
      SECOND_SYNC_SEL:
        type: bool
        start: 1
        description: |
          - In tx mode:
            - false: select the primary SYNC word
            - true: select the secondary SYNC word
          - In rx mode:
            - true: enable the dual SYNC word detection mode
      FEC_EN:
        type: bool
        start: 0
        description: Enable the FEC encoding in TX or the Viterbi decoding in RX.
  PcktLen1:
    rw_type: rw
    address: 0x31
    size_bits: 8
    reset_value: 0x00
    description: MSB of length of packet in bytes.
    fields:
      value:
        type: u8
        start: 0
        end: 8
  PcktLen0:
    rw_type: rw
    address: 0x32
    size_bits: 8
    reset_value: 0x14
    description: LSB of length of packet in bytes.
    fields:
      value:
        type: u8
        start: 0
        end: 8
  SYNC3:
    rw_type: rw
    address: 0x33
    size_bits: 8
    reset_value: 0x88
    description: SYNC word byte 3
    fields:
      value:
        type: u8
        start: 0
        end: 8
  SYNC2:
    rw_type: rw
    address: 0x34
    size_bits: 8
    reset_value: 0x88
    description: SYNC word byte 2
    fields:
      value:
        type: u8
        start: 0
        end: 8
  SYNC1:
    rw_type: rw
    address: 0x35
    size_bits: 8
    reset_value: 0x88
    description: SYNC word byte 1
    fields:
      value:
        type: u8
        start: 0
        end: 8
  SYNC0:
    rw_type: rw
    address: 0x36
    size_bits: 8
    reset_value: 0x88
    description: SYNC word byte 0
    fields:
      value:
        type: u8
        start: 0
        end: 8
  QI:
    rw_type: rw
    address: 0x37
    size_bits: 8
    reset_value: 0x01
    fields:
      SQI_TH:
        type: u8
        start: 5
        end: 8
        description: SQI threshold.
      PQI_TH:
        type: u8
        start: 1
        end: 5
        description: PQI threshold.
      SQI_EN:
        type: bool
        start: 0
        description: Enable the SQI check.
  PCKT_PSTMBL:
    rw_type: rw
    address: 0x38
    size_bits: 8
    reset_value: 0x00
    description: Set the packet postamble length.
    fields:
      value:
        type: u8
        start: 0
        end: 8
  PROTOCOL2:
    rw_type: rw
    address: 0x39
    size_bits: 8
    reset_value: 0x40
    fields:
      CS_TIMEOUT_MASK:
        type: bool
        start: 7
        description: Enable the CS value contributes to timeout disabling.
      SQI_TIMEOUT_MASK:
        type: bool
        start: 6
        description: Enable the SQI value contributes to timeout disabling.
      PQI_TIMEOUT_MASK:
        type: bool
        start: 5
        description: Enable the PQI value contributes to timeout disabling.
      TX_SEQ_NUM_RELOAD:
        type: u8
        start: 3
        end: 5
        description:
          TX sequence number to be used when counting reset is required
          using the related command.
      FIFO_GPIO_OUT_MUX_SEL:
        type: bool
        start: 2
        description: |
          - 0: select the almost empty/full control for TX FIFO.
          - 1: select the almost empty/full control for RX FIFO.
      LDC_TIMER_MULT:
        type: u8
        start: 0
        end: 2
        description: Set the LDC timer multiplier factor
        strict_conversion:
          x1: 0b00
          x2: 0b01
          x4: 0b10
          x8: default #0b11
  PROTOCOL1:
    rw_type: rw
    address: 0x3A
    size_bits: 8
    reset_value: 0x00
    fields:
      LDC_MODE:
        type: bool
        start: 7
        description: Enable the Low Duty Cycle mode.
      LDC_RELOAD_ON_SYNC:
        type: bool
        start: 6
        description: Enable the LDC timer reload mode.
      PIGGYBACKING:
        type: bool
        start: 5
        description: Enable the piggybacking.
      FAST_CS_TERM_EN:
        type: bool
        start: 4
        description: Enable the RX sniff timer.
      SEED_RELOAD:
        type: bool
        start: 3
        description:
          Enable the reload of the back-off random generator seed using
          the value written in the BU_COUNTER_SEED.
      CSMA_ON:
        type: bool
        start: 2
        description: Enable the CSMA channel access mode.
      CSMA_PERS_ON:
        type: bool
        start: 1
        description: Enable the CSMA persistent mode (no back-off cycles).
      AUTO_PCKT_FLT:
        type: bool
        start: 0
        description: Enable the automatic packet filtering control.
  PROTOCOL0:
    rw_type: rw
    address: 0x3B
    size_bits: 8
    reset_value: 0x08
    fields:
      NMAX_RETX:
        type: u8
        start: 4
        end: 8
        description: "Max. number of re-TX (from 0 to 15)(0: re-transmission is not performed)."
      NACK_TX:
        type: bool
        start: 3
        description: Field NO_ACK=1 on transmitted packet.
      AUTO_ACK:
        type: bool
        start: 2
        description: Enable the automatic acknowledgment if packet received request.
      PERS_RX:
        type: bool
        start: 1
        description: Enable the persistent RX mode.
  FIFO_CONFIG3:
    rw_type: rw
    address: 0x3C
    size_bits: 8
    reset_value: 0x30
    description: Set the RX FIFO almost full threshold.
    fields:
      RX_AFTHR:
        type: u8
        start: 0
        end: 7
  FIFO_CONFIG2:
    rw_type: rw
    address: 0x3D
    size_bits: 8
    reset_value: 0x30
    description: Set the RX FIFO almost empty threshold.
    fields:
      RX_AETHR:
        type: u8
        start: 0
        end: 7
  FIFO_CONFIG1:
    rw_type: rw
    address: 0x3E
    size_bits: 8
    reset_value: 0x30
    description: Set the TX FIFO almost full threshold.
    fields:
      TX_AFTHR:
        type: u8
        start: 0
        end: 7
  FIFO_CONFIG0:
    rw_type: rw
    address: 0x3F
    size_bits: 8
    reset_value: 0x30
    description: Set the TX FIFO almost empty threshold.
    fields:
      TX_AETHR:
        type: u8
        start: 0
        end: 7
  PCKT_FLT_OPTIONS:
    rw_type: rw
    address: 0x40
    size_bits: 8
    reset_value: 0x40
    description: Packet filter options
    fields:
      RX_TIMEOUT_AND_OR_SEL:
        type: bool
        start: 6
        description: "Logical Boolean function applied to CS/SQI/PQI values: 1: OR, 0: AND."
      SOURCE_ADDR_FLT:
        type: bool
        start: 4
        description: RX packet accepted if its source field matches with RX_SOURCE_ADDR register
      NACK_TX:
        type: bool
        start: 3
        description: Field NO_ACK=1 on transmitted packet.
      DEST_VS_BROADCAST_ADDR:
        type: bool
        start: 3
        description: RX packet accepted if its source field matches with
          BROADCAST_ADDR register.
      DEST_VS_MULTICAST_ADDR:
        type: bool
        start: 2
        description: RX packet accepted if its destination address matches with
          MULTICAST_ADDR register.
      DEST_VS_SOURCE_ADDR:
        type: bool
        start: 1
        description: RX packet accepted if its destination address matches with
          RX_SOURCE_ADDR register.
      CRC_FLT:
        type: bool
        start: 0
        description: Packet discarded if CRC is not valid.
  PCKT_FLT_GOALS4:
    rw_type: rw
    address: 0x41
    size_bits: 8
    reset_value: 0x00
    description: Mask register for source address filtering.
    fields:
      RX_SOURCE_MASK:
        type: u8
        start: 0
        end: 8
  PCKT_FLT_GOALS3:
    rw_type: rw
    address: 0x42
    size_bits: 8
    reset_value: 0x00
    description: "If dual sync mode enabled: dual SYNC word byte 3, Otherwise RX
      packet source or TX packet destination field."
    fields:
      RX_SOURCE_ADDR_OR_DUAL_SYNC3:
        type: u8
        start: 0
        end: 8
  PCKT_FLT_GOALS2:
    rw_type: rw
    address: 0x43
    size_bits: 8
    reset_value: 0x00
    description: "If dual sync mode enabled: dual SYNC word byte 2, Broadcast
      address."
    fields:
      BROADCAST_ADDR_OR_DUAL_SYNC2:
        type: u8
        start: 0
        end: 8
  PCKT_FLT_GOALS1:
    rw_type: rw
    address: 0x44
    size_bits: 8
    reset_value: 0x00
    description: "If dual sync mode enabled: dual SYNC word byte 1, Multicast
      address."
    fields:
      MULTICAST_ADDR_OR_DUAL_SYNC1:
        type: u8
        start: 0
        end: 8
  PCKT_FLT_GOALS0:
    rw_type: rw
    address: 0x45
    size_bits: 8
    reset_value: 0x00
    description: "If dual sync mode enabled: dual SYNC word byte 0, Tx packet
      source or RX packet destination field."
    fields:
      TX_SOURCE_ADDR_OR_DUAL_SYNC0:
        type: u8
        start: 0
        end: 8
  TIMERS5:
    rw_type: rw
    address: 0x46
    size_bits: 8
    reset_value: 0x01
    description: Counter for RX timer.
    fields:
      RX_TIMER_CNTR:
        type: u8
        start: 0
        end: 8
  TIMERS4:
    rw_type: rw
    address: 0x47
    size_bits: 8
    reset_value: 0x00
    description: Prescaler for RX timer.
    fields:
      RX_TIMER_PRESC:
        type: u8
        start: 0
        end: 8
  TIMERS3:
    rw_type: rw
    address: 0x48
    size_bits: 8
    reset_value: 0x01
    description: Prescaler for wake up timer.
    fields:
      LDC_TIMER_PRESC:
        type: u8
        start: 0
        end: 8
  TIMERS2:
    rw_type: rw
    address: 0x49
    size_bits: 8
    reset_value: 0x00
    description: Counter for wake up timer.
    fields:
      LDC_TIMER_CNTR:
        type: u8
        start: 0
        end: 8
  TIMERS1:
    rw_type: rw
    address: 0x4A
    size_bits: 8
    reset_value: 0x01
    description: Prescaler value for reload operation of wake up timer.
    fields:
      LDC_RELOAD_PRSC:
        type: u8
        start: 0
        end: 8
  TIMERS0:
    rw_type: rw
    address: 0x4B
    size_bits: 8
    reset_value: 0x00
    description: Counter value for reload operation of wake up timer.
    fields:
      LDC_RELOAD_CNTR:
        type: u8
        start: 0
        end: 8
  CSMA_CONF3:
    rw_type: rw
    address: 0x4C
    size_bits: 8
    reset_value: 0x4C
    description:
      "[14:8] MSB part of the seed for the random generator used to apply the
      CSMA algorithm."
    fields:
      BU_CNTR_SEED:
        type: u8
        start: 0
        end: 8
  CSMA_CONF2:
    rw_type: rw
    address: 0x4D
    size_bits: 8
    reset_value: 0x00
    description:
      "[7:0] LSB part of the seed for the random generator used to apply the
      CSMA algorithm."
    fields:
      BU_CNTR_SEED:
        type: u8
        start: 0
        end: 8
  CSMA_CONF1:
    rw_type: rw
    address: 0x4E
    size_bits: 8
    reset_value: 0x04
    fields:
      BU_PRSC:
        type: u8
        start: 2
        end: 8
        description: Prescaler value for the back-off unit BU.
      CCA_PERIOD:
        type: u8
        start: 0
        end: 2
        description: Multiplier for the Tcca timer.
  CSMA_CONF0:
    rw_type: rw
    address: 0x4F
    size_bits: 8
    reset_value: 0x00
    fields:
      CCA_LEN:
        type: u8
        start: 4
        end: 8
        description: The number of time in which the listen operation is performed.
      NBACKOFF_MAX:
        type: u8
        start: 0
        end: 3
        description: Max number of back-off cycles.
  IRQ_MASK3:
    rw_type: rw
    address: 0x50
    size_bits: 8
    reset_value: 0x00
    description:
      "[31:24] Enable the routing of the interrupt flag on the configured IRQ
      GPIO."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  IRQ_MASK2:
    rw_type: rw
    address: 0x51
    size_bits: 8
    reset_value: 0x00
    description:
      "[23:16] Enable the routing of the interrupt flag on the configured IRQ
      GPIO."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  IRQ_MASK1:
    rw_type: rw
    address: 0x52
    size_bits: 8
    reset_value: 0x00
    description:
      "[15:8] Enable the routing of the interrupt flag on the configured IRQ
      GPIO."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  IRQ_MASK0:
    rw_type: rw
    address: 0x53
    size_bits: 8
    reset_value: 0x00
    description:
      "[7:0] Enable the routing of the interrupt flag on the configured IRQ
      GPIO."
    fields:
      value:
        type: u8
        start: 0
        end: 8
  FAST_RX_TIMER:
    rw_type: rw
    address: 0x54
    size_bits: 8
    reset_value: 0x28
    description: Sniff timer configuration.
    fields:
      RSSI_SETTLING_LIMIT:
        type: u8
        start: 0
        end: 8
  PA_POWER8:
    rw_type: rw
    address: 0x5A
    size_bits: 8
    reset_value: 0x01
    description: Output power level for 8th slot.
    fields:
      value:
        type: u8
        start: 0
        end: 7
  PA_POWER7:
    rw_type: rw
    address: 0x5B
    size_bits: 8
    reset_value: 0x0C
    description: Output power level for 7th slot.
    fields:
      value:
        type: u8
        start: 0
        end: 7
  PA_POWER6:
    rw_type: rw
    address: 0x5C
    size_bits: 8
    reset_value: 0x18
    description: Output power level for 6th slot.
    fields:
      value:
        type: u8
        start: 0
        end: 7
  PA_POWER5:
    rw_type: rw
    address: 0x5D
    size_bits: 8
    reset_value: 0x24
    description: Output power level for 5th slot.
    fields:
      value:
        type: u8
        start: 0
        end: 7
  PA_POWER4:
    rw_type: rw
    address: 0x5E
    size_bits: 8
    reset_value: 0x30
    description: Output power level for 4th slot.
    fields:
      value:
        type: u8
        start: 0
        end: 7
  PA_POWER3:
    rw_type: rw
    address: 0x5F
    size_bits: 8
    reset_value: 0x48
    description: Output power level for 3th slot.
    fields:
      value:
        type: u8
        start: 0
        end: 7
  PA_POWER2:
    rw_type: rw
    address: 0x60
    size_bits: 8
    reset_value: 0x60
    description: Output power level for 2nd slot.
    fields:
      value:
        type: u8
        start: 0
        end: 7
  PA_POWER1:
    rw_type: rw
    address: 0x61
    size_bits: 8
    reset_value: 0x00
    description: Output power level for 1st slot.
    fields:
      value:
        type: u8
        start: 0
        end: 7
  PA_POWER0:
    rw_type: rw
    address: 0x62
    size_bits: 8
    reset_value: 0x47
    fields:
      DIG_SMOOTH_EN:
        type: bool
        start: 7
        description:
          Enable the generation of the internal signal TX_DATA which is
          the input of the FIR. Needed when FIR_EN=1.
      PA_MAXDBM:
        type: bool
        start: 6
        description: Configure the PA to send maximum output power. Power
          ramping is disable with this bit set to 1.
      PA_RAMP_EN:
        type: bool
        start: 5
        description: Enable the power ramping.
      PA_RAMP_STEP_LEN:
        type: u8
        start: 3
        end: 5
        description: "Set the step width (unit: 1/8 of bit period)."
      PA_LEVEL_MAX_IDX:
        type: u8
        start: 0
        end: 3
        description: Final level for power ramping or selected output power index.
  PA_CONFIG1:
    rw_type: rw
    address: 0x63
    size_bits: 8
    reset_value: 0x03
    fields:
      FIR_CFG:
        type: u8
        start: 2
        end: 4
        description: FIR configuration
        conversion:
          filtering: 0b00
          ramping: 0b01
          switching:
            value: 0b10
            description: (see Section 5.4.2.1 OOK smoothing)
      FIR_EN:
        type: bool
        start: 1
        description: Enable FIR (see Section 5.4.2.1 OOK smoothing)
  PA_CONFIG0:
    rw_type: rw
    address: 0x64
    size_bits: 8
    reset_value: 0x8A
    fields:
      PA_DEGEN_TRIM_CODE_TH:
        type: u8
        start: 6
        end: 8
        strict_conversion:
          code_threshold_418: 0b00
          code_threshold_439: 0b01
          code_threshold_465: 0b10
          code_threshold_485: default #0b11
      PA_DEGEN_TRIM_CLAMP_VOLTAGE:
        type: u8
        start: 4
        end: 6
        strict_conversion:
          voltage_0_40: 0b00
          voltage_0_45: 0b01
          voltage_0_50: 0b10
          voltage_0_55: default #0b11
      PA_DEGEN_ON:
        type: bool
        start: 3
        description:
          Enables the 'degeneration' mode that introduces a pre-distortion to
          linearize the power control curve.
      SAFE_ASK_CAL:
        type: bool
        start: 2
        description: During a TX operation, enables and starts the digital ASK
          calibrator.
      PA_FC:
        type: u8
        start: 0
        end: 2
        description: PA bessel filter bandwidth (see Section 5.4.2.1 OOK smoothing).
        strict_conversion:
          khz12_5:
            value: 0b00
            description: 12.5 kHz (data rate 16.2 kbps)
          khz25:
            value: 0b01
            description: 25 kHz (data rate 32 kbps)
          khz50:
            value: 0b10
            description: 50 kHz (data rate 62.5 kbps)
          khz100:
            value: default #0b11
            description: 100 kHz (data rate 125 kbps)
  SYNTH_CONFIG2:
    rw_type: rw
    address: 0x65
    size_bits: 8
    reset_value: 0xD0
    fields:
      PLL_PFD_SPLIT_EN:
        type: bool
        start: 2
        description:
          Enables increased DN current pulses to improve linearization of
          CP/PFD (see Table 37. Charge pump words).
  VCO_CONFIG:
    rw_type: rw
    address: 0x68
    size_bits: 8
    reset_value: 0x03
    fields:
      VCO_CALAMP_EXT_SEL:
        type: bool
        start: 5
        description:
          VCO amplitude calibration is skipped (external amplitude word
          forced on VCO).
      VCO_CALFREQ_EXT_SEL:
        type: bool
        start: 4
        description: VCO frequency calibration is skipped (external amplitude
          word forced on VCO).
  XO_RCO_CONF1:
    rw_type: rw
    address: 0x6C
    size_bits: 8
    reset_value: 0x45
    fields:
      PD_CLKDIV:
        type: bool
        start: 4
        description:
          Disable both dividers of digital clock (and reference clock for the
          SMPS) and IF-ADC clock.
  XO_RCO_CONF0:
    rw_type: rw
    address: 0x6D
    size_bits: 8
    reset_value: 0x30
    fields:
      EXT_REF:
        type: u8
        start: 7
        end: 8
        strict_conversion:
          XO: 0
          XIN: default #1
      GM_CONF:
        type: u8
        start: 4
        end: 7
        description: Set the driver gm of the XO at start up.
      REFDIV:
        type: bool
        start: 3
        description: Enable the the reference clock divider.
      EXT_RCO_OSC:
        type: bool
        start: 1
        description: The 34.7 kHz signal must be supplied from any GPIO.
      RCO_CALIBRATION:
        type: bool
        start: 0
        description: Enable the automatic RCO calibration.
  RCO_CALIBR_CONF3:
    rw_type: rw
    address: 0x6E
    size_bits: 8
    reset_value: 0x70
    fields:
      RWT_IN:
        type: u8
        start: 4
        end: 8
        description: RWT word value for the RCO.
      RFB_IN:
        type: u8
        start: 4
        end: 8
        description: MSB [4:1] part of RFB word value for RCO.
  RCO_CALIBR_CONF2:
    rw_type: rw
    address: 0x6F
    size_bits: 8
    reset_value: 0x4D
    fields:
      RWT_IN:
        type: u8
        start: 7
        end: 8
        description: LSB [0] part of RFB word value for RCO.
  PM_CONF4:
    rw_type: rw
    address: 0x75
    size_bits: 8
    reset_value: 0x17
    fields:
      EXT_SMPS:
        type: bool
        start: 5
        description: Disable the internal SMPS.
  PM_CONF3:
    rw_type: rw
    address: 0x76
    size_bits: 8
    reset_value: 0x20
    fields:
      KRM_EN:
        type: bool
        start: 7
        description: |
          - 0: divider by 4 enabled (SMPS' switching frequency is
          FSW=Fdig/4)
          - 1: rate multiplier enabled (SMPS' switching frequency is
          FSW=KRM*Fdig/(2^15).
      KRM:
        type: u8
        start: 0
        end: 7
        description: "Sets the divider ratio (MSB [14:8]) of the rate multiplier (default:
          Fsw=Fdig/4)"
  PM_CONF2:
    rw_type: rw
    address: 0x77
    size_bits: 8
    reset_value: 0x00
    fields:
      KRM:
        type: u8
        start: 0
        end: 8
        description: "Sets the divider ratio (LSB [7:0]) of the rate multiplier (default:
          Fsw=Fdig/4)"
